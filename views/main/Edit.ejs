<div class="EditprojectContainer">
  <section class="add-project-section container py-5">

    <div class="progress mb-4">
      <div id="formProgress" class="progress-bar progress-bar-striped progress-bar-animated" style="width: 14%">
      </div>
    </div>

    <form action="/<%= project._id%>/addProject?_method=PUT" method="POST" enctype="multipart/form-data">


      <!-- 1. BASIC INFO -->
        <div class="card glass-card mb-4 animate">
          <div class="card-header">
            <i class="bi bi-info-circle"></i> Project Basic Info
          </div>

        
          <div class="card-body">
            <div class="form-floating mb-3">
              <input name="title" type="text" class="form-control" value="<%= project.title %>" id="title"
                placeholder="Title" required>

              <label>Project Title</label>
            </div>

            <div class="form-floating mb-3">
              <input name="tagline" type="text" class="form-control" value="<%= project.tagline %>" id="tagline"
                placeholder="Tagline">
              <label>Short Tagline</label>
            </div>

            <select name="category" class="form-select">
              <option value="" selected disabled><%= project.category %></option>
              <option value="Web"  <%= project.category === "Web" ? "selected" : "" %>>Web</option>
              <option value="Android" <%= project.category === "Android" ? "selected" : "" %>>Android</option>
              <option value="AI/ML" <%= project.category === "Android" ? "selected" : "" %>>AI / ML</option>
              <option value="Data Science" <%= project.category === "Android" ? "selected" : "" %>>Data Science</option>
              <option value="IoT" <%= project.category === "Android" ? "selected" : "" %>>IoT</option>
              <option value="Other" <%= project.category === "Android" ? "selected" : "" %>>Other</option>
            </select>

          </div>
       </div>
        
        

         <!-- 2. DESCRIPTION -->
         <div class="card glass-card mb-4 animate">
          <div class="card-header">
             <i class="bi bi-file-text"></i> Description
         </div>
          <div class="card-body">
            <textarea name="description" class="form-control mb-3"
              placeholder="Detailed Description" rows="4"> <%= project.description %> </textarea>
            <textarea name="problemStatement" class="form-control mb-3" placeholder="Problem Statement"
              rows="3"></textarea>
            <textarea name="solutionOverview" class="form-control" placeholder="Solution Overview" rows="3"></textarea>
          </div>
         </div>

          <!-- 3. TECHNOLOGIES -->
          <!-- Chips are UI-only â†’ backend needs array input -->
          <input type="hidden" name="technologies" id="technologiesInput">

          <div class="card glass-card mb-4 animate">
            <div class="card-header">
              <i class="bi bi-code-slash"></i> Technologies Used
            </div>
            <div class="card-body tech-chips">
              <span class="chip" data-tech="HTML">HTML</span>
              <span class="chip" data-tech="CSS">CSS</span>
              <span class="chip" data-tech="JavaScript">JavaScript</span>
              <span class="chip" data-tech="Bootstrap">Bootstrap</span>
              <span class="chip" data-tech="Node.js">Node.js</span>
              <span class="chip" data-tech="Firebase">Firebase</span>
            </div>
          </div>

          <!-- 4. MEDIA -->
          <div class="card glass-card mb-4 animate">
            <div class="card-header">
             <i class="bi bi-image"></i> Project Media
            </div>
            <div class="card-body">
              <div class="prevImg">
                Previous Image:
                <img src="/uploads/<%= project.thumbnail %>" alt="Project Thumbnail" class="project-thumbnail" />
              </div>
              <input name="thumbnail" type="file" accept="image/*" class="form-control mb-3" value="<%= project.thumbnail %>" required >
              <input name="githubRepoUrl" type="url" class="form-control mb-3" value="<%= project.githubRepoUrl %>"
                placeholder="GitHub Repo URL">
              <input name="liveDemoUrl" type="url" class="form-control"
                placeholder="Live Demo / APK (Optional)">
            </div>
          </div>

          <!-- 5. TIMELINE -->
          <div class="card glass-card mb-4 animate">
            <div class="card-header">
              <i class="bi bi-calendar"></i> Timeline
            </div>
            <div class="card-body row">
              <div class="col-md-6 mb-3">
                 <input name="startDate" type="date" class="form-control">
              </div>
               <div class="col-md-6 mb-3">
                <input name="endDate" type="date" class="form-control">
              </div>
              <div class="form-check">
                <input name="isOngoing" class="form-check-input" type="checkbox" value="true">
                <label class="form-check-label">Ongoing Project</label>
              </div>
            </div>
          </div>

           <!-- 6. ROLE & VISIBILITY -->
           <div class="card glass-card mb-4 animate">
             <div class="card-header">
               <i class="bi bi-people"></i> Role & Visibility
             </div>
             <div class="card-body">
              <input name="role" type="text" class="form-control mb-3" placeholder="My Role">
              <input name="teamSize" type="number" class="form-control mb-3" placeholder="Team Size">

              <select name="status" class="form-select mb-3">
                 <option value="" disabled selected>Status</option>
                 <option value="Completed">Completed</option>
                 <option value="In Progress">In Progress</option>
              </select>

              <select name="visibility" class="form-select">
                 <option value="" disabled selected><%= project.visibility %></option>
                 <option value="Public">Public</option>
                 <option value="Private">Private</option>
              </select>
            </div>
          </div>

          <!-- SUBMIT -->
           <button class="btn submit-btn w-100" type="submit">
            <span class="spinner-border spinner-border-sm d-none"></span>
              Submit Project
           </button>

    </form>
  </section>
</div>